<!DOCTYPE html>
<html>
<head>
  <title>Cube Example</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="cube-wrap">
    <div class="cube" id="cube">
      <div class="face top"></div>
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face left"></div>
      <div class="face right"></div>
      <div class="face bottom"></div>
      <div class="inner-wrap">
        <div class="face inner inner1"></div>
        <div class="face inner inner2"></div>
        <div class="face inner inner3"></div>
      </div>
    </div>
  </div>

  <script>
    var cube = document.getElementById("cube");
    var cubeWrap = document.getElementById("cube-wrap");
    var isDragging = false;

    var currentX, currentY, initialX, initialY;
    var xOffset = 0,
      yOffset = 0;

    // For desktop
    cubeWrap.addEventListener("mousedown", dragStart, false);
    cubeWrap.addEventListener("mouseup", dragEnd, false);
    cubeWrap.addEventListener("mousemove", drag, false);

    // For mobile touch
    cubeWrap.addEventListener("touchstart", dragStart, false);
    cubeWrap.addEventListener("touchend", dragEnd, false);
    cubeWrap.addEventListener("touchmove", drag, false);

    function dragStart(e) {
      e = e.type == "touchstart" ? e.touches[0] : e; // For touch event
      initialX = e.clientX - xOffset;
      initialY = e.clientY - yOffset;

      // Check if the target is cubeWrap or a child of cubeWrap
      if (cubeWrap.contains(e.target)) {
        isDragging = true;
      }
    }

    function dragEnd() {
      initialX = currentX;
      initialY = currentY;
      isDragging = false;
    }

    function drag(e) {
      if (isDragging) {
        e = e.type == "touchmove" ? e.touches[0] : e; // For touch event
        currentX = e.clientX - initialX;
        currentY = e.clientY - initialY;
        xOffset = currentX;
        yOffset = currentY;

        setTranslate(currentX, currentY, cube);
      }
    }

    function setTranslate(xPos, yPos, el) {
      el.style.transform = "rotateX(" + (-yPos) + "deg) rotateY(" + (-xPos) + "deg)"; 
    }
  </script>
</body>
</html>
